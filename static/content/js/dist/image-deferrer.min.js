__nha_webpackJsonp([6],{0:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),l=function t(e,a,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,a);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,a,n)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(n)},c=a(2),d=n(c),u=a(3),p=n(u);a(152);var h=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return r(e,t),s(e,[{key:"init",value:function(){var t=this;return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this).then(function(){return t.emit("init")})}},{key:"main",value:function(){this.deferImages()}},{key:"deferImages",value:function(){var t=document.querySelectorAll(".lazy-load-image");t=Array.from(t);var e={rootMargin:"200px",threshold:.1},a=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(a.unobserve(t.target),"DIV"===t.target.nodeName?t.target.dataset.src.includes("ResponsiveImage")?t.target.classList.add(t.target.dataset.src):t.target.setAttribute("style","background-image: "+t.target.dataset.src):"IMG"===t.target.nodeName&&(t.target.src=t.target.dataset.src))})},e);t.forEach(function(t){a.observe(t)})}}]),e}(p.default),m=new h;d.default.on("init",function(){return m.init()}),e.default=m},2:function(t,e,a){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),l=function t(e,a,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,a);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,a,n)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(n)},c=a(3),d=n(c),u=a(5),p=n(u);a(9);var h=a(10),m=(n(h),/\/schools\/([\w-]+)\/*/gi),f=function(e){function a(e){o(this,a);var n=i(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return window.dynamicModal=[],n.$transparencyExpanded=t(".nha-transparency-report-expanded"),n}return r(a,e),s(a,[{key:"init",value:function(){var t=this;return l(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"init",this).call(this).then(function(e){return t.emit("init",e)})}},{key:"main",value:function(){this.mobilePagination(),this.modalIframe(),this.modalInline(),this.modalAuthor(),this.setBodyPadding()}},{key:"bindEvents",value:function(){var e=this;l(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"bindEvents",this).call(this),t(".nha-form-control.nha-phone-mask").mask("(000) 000-0000"),t(".nha-header-search-btn").on("click",function(e){e.stopPropagation();var a=t(e.currentTarget);a.parent("li").addClass("nha-search-expanded"),t(".nha-header-search-input input").focus()}),t("#header-right-search").on("click",function(t){t.stopPropagation()}),t(document.body).on("click",function(e){t(".nha-search-expanded").removeClass("nha-search-expanded")}),t(".nha-live-chat-tab").on("click",function(e){t(".lebtn div").trigger("click")}),t(".nha-nav-primary > li > a").on("keydown",function(t){e.tabbingNav(t)}),t(".nha-nav-toggle").on("click",function(t){e.mobileNav(t)}),t(".nha-nav .nha-nav-top-item").on("click",function(t){e.mobileNavItem(t)}),t(".nha-transparency-report-expanded .nha-btn").on("click",function(t){e.$transparencyExpanded.fadeOut()}),t(".nha-education-circle-link").on("click",function(t){e.$transparencyExpanded.fadeIn(),e.$transparencyExpanded.find(".nha-btn").focus()}),t(".nha-education-circle").on("click",function(t){e.$transparencyExpanded.fadeIn(),e.$transparencyExpanded.find(".nha-btn").focus()}),t(window).on("scroll",function(t){e.$transparencyExpanded.fadeOut()}),t(window).on("resize",p.default.debounce(function(t){return e.onResize(t)}))}},{key:"getCultureCode",value:function(){var t=window.location.pathname+"/";if(this.isSchoolSite){var e=/\/schools\/([\w-]+)\/*/gi.exec(t);if(null!=e){var a=e[0].length;return p.default.trim(t.substring(a,t.indexOf("/",a)),"/")}}else{var n=/\/(en|es)/gi.exec(t);if(null!=n)return p.default.trim(n[0],"/")}}},{key:"onResize",value:function(e){p.default.checkWidth()===u.ViewPort.Desktop&&(t(".nha-nav .nha-nav-top-item").removeClass("open"),t(".nha-nav .nha-nav-primary > li ul").removeAttr("style"),t(".nha-nav-toggle").removeClass("open"),t(".nha-nav").removeClass("open").removeAttr("style")),this.mobilePagination(),this.setBodyPadding()}},{key:"mobileNav",value:function(e){var a=t(e.currentTarget);a.toggleClass("open"),t(".nha-nav").toggleClass("open").css("visibility","visible")}},{key:"mobileNavItem",value:function(e){var a=t(e.currentTarget);"desktop"!==p.default.checkWidth()&&(a.toggleClass("open"),a.closest("li").find("ul").slideToggle())}},{key:"setBodyPadding",value:function(){if(p.default.checkWidth()!==u.ViewPort.Desktop){var e=t(".nha-header-schools").outerHeight();t("body").css("padding-top",e)}else t("body").removeAttr("style")}},{key:"tabbingNav",value:function(e){var a=t(e.currentTarget);if(13===e.keyCode&&a.parent().find("ul").length>0){e.preventDefault(),a.parent().addClass("focused");var n=a.parent().find("ul li a"),o=!0,i=!1,r=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;t(c).removeAttr("tabindex")}}catch(t){i=!0,r=t}finally{try{!o&&l.return&&l.return()}finally{if(i)throw r}}a.parent().hasClass("focused")}var d=t(document.activeElement),u=d.parent().prev();u.hasClass("focused")&&u.removeClass("focused")}},{key:"mobilePagination",value:function(){t(".nha-pagination .js-li-pagination-number ").length>3&&(t(".js-li-pagination-number.active").prev().hasClass("nha-pagination-previous")?(t(".js-li-pagination-number.active").next().addClass("nha-page-show-mobile"),t(".js-li-pagination-number.active").next().next().addClass("nha-page-show-mobile")):t(".js-li-pagination-number.active").next().hasClass("nha-pagination-next")?(t(".js-li-pagination-number.active").prev().addClass("nha-page-show-mobile"),t(".js-li-pagination-number.active").prev().prev().addClass("nha-page-show-mobile")):(t(".js-li-pagination-number.active").prev().addClass("nha-page-show-mobile"),t(".js-li-pagination-number.active").next().addClass("nha-page-show-mobile")))}},{key:"modalInline",value:function(){t(".modal-inline").modaal({type:"inline",width:725,background_scroll:!1,before_open:function(){p.default.checkWidth()!==u.ViewPort.Desktop&&t("body").css("position","fixed")},after_open:function(){},after_close:function(){t("body").removeAttr("style")}})}},{key:"modalAuthor",value:function(){t(".modal-author").modaal({type:"inline",width:725,custom_class:"nha-profile-modal",background_scroll:!1,before_open:function(){p.default.checkWidth()!==u.ViewPort.Desktop&&t("body").css("position","fixed")},after_open:function(){},after_close:function(){t("body").removeAttr("style")}}),t(window).bind("orientationchange",function(e){t(".modaal-wrapper").length&&t(".modal-inline").modaal("close")})}},{key:"modalIframe",value:function(){var e;t(".modal-iframe").modaal({type:"iframe",width:600,background_scroll:!1,before_open:function(){p.default.checkWidth()!==u.ViewPort.Desktop&&(t("body").css("position","fixed"),t(".modaal-wrapper").addClass("modal-scrollfix"))},after_open:function(){e=iFrameResize({heightCalculationMethod:"lowestElement"},"iframe.modaal-iframe-elem"),t(".modaal-wrapper").removeClass("modal-scrollfix"),t("body").css("overflow","hidden").css("position","relative")},after_close:function(){e[0].iFrameResizer.close(),t("body").removeAttr("style")}})}},{key:"isSchoolSite",get:function(){return m.test(window.location.pathname)}}]),a}(d.default),v=new f;e.default=v}).call(e,a(1))},3:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),l=a(4),c=n(l),d=function(t){function e(t){o(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a._options=Object.assign({},t),a.initialized=!1,a}return r(e,t),s(e,[{key:"bindEvents",value:function(){}},{key:"_bindEvents",value:function(){var t=this;this.on("init",function(e){t.initialized=!0,t.main()})}},{key:"init",value:function(){var t=this;return new Promise(function(e){return t._bindEvents(),t.bindEvents(),e()})}},{key:"main",value:function(){}}]),e}(c.default);e.default=d},4:function(t,e){function a(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0,a.defaultMaxListeners=10,a.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},a.prototype.emit=function(t){var e,a,o,s,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var d=new Error('Uncaught, unspecified "error" event. ('+e+")");throw d.context=e,d}if(a=this._events[t],r(a))return!1;if(n(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),a.apply(this,s)}else if(i(a))for(s=Array.prototype.slice.call(arguments,1),c=a.slice(),o=c.length,l=0;l<o;l++)c[l].apply(this,s);return!0},a.prototype.addListener=function(t,e){var o;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=r(this._maxListeners)?a.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(t,e){function a(){this.removeListener(t,a),o||(o=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var o=!1;return a.listener=e,this.on(t,a),this},a.prototype.removeListener=function(t,e){var a,o,r,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=this._events[t],r=a.length,o=-1,a===e||n(a.listener)&&a.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(a)){for(s=r;s-- >0;)if(a[s]===e||a[s].listener&&a[s].listener===e){o=s;break}if(o<0)return this;1===a.length?(a.length=0,delete this._events[t]):a.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},a.prototype.removeAllListeners=function(t){var e,a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(a=this._events[t],n(a))this.removeListener(t,a);else if(a)for(;a.length;)this.removeListener(t,a[a.length-1]);return delete this._events[t],this},a.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},a.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},a.listenerCount=function(t,e){return t.listenerCount(e)}},9:function(t,e,a){(function(t){/*!
		Modaal - accessible modals - v0.3.1
		by Humaan, for all humans.
		http://humaan.com
	 */
!function(t){var e='<div class="modaal-loading-spinner"><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div>',a={init:function(e,a){var n=this;n.dom=t("body"),n.$elem=t(a),n.options=t.extend({},t.fn.modaal.options,n.$elem.data(),e),n.xhr=null,n.scope={is_open:!1,id:"modaal_"+(new Date).getTime()+Math.random().toString(16).substring(2)},n.$elem.attr("data-modaal-scope",n.scope.id),n.private_options={active_class:"is_active"},n.lastFocus=null,n.options.is_locked||"confirm"==n.options.type||n.options.hide_close?n.scope.close_btn="":n.scope.close_btn='<button type="button" class="modaal-close" id="modaal-close" aria-label="'+n.options.close_aria_label+'"><span>'+n.options.close_text+"</span></button>","none"===n.options.animation&&(n.options.animation_speed=0,n.options.after_callback_delay=0),t(a).on("click.Modaal",function(t){t.preventDefault();var e;if(n.lastFocus=document.activeElement,n.options.should_open!==!1&&("function"!=typeof n.options.should_open||n.options.should_open()!==!1)){switch(n.options.before_open.call(n,t),n.options.type){case"inline":n.create_basic();break;case"ajax":e=n.options.source(n.$elem,n.$elem.attr("href")),n.fetch_ajax(e);break;case"confirm":n.options.is_locked=!0,n.create_confirm();break;case"image":n.create_image();break;case"iframe":e=n.options.source(n.$elem,n.$elem.attr("href")),n.create_iframe(e);break;case"video":n.create_video(n.$elem.attr("href"));break;case"instagram":n.create_instagram()}n.watch_events()}}),n.options.start_open===!0&&t(a).click()},watch_events:function(){var e=this;e.dom.off("click.Modaal keyup.Modaal keydown.Modaal"),e.dom.on("keydown.Modaal",function(a){var n=a.keyCode,o=a.target;9==n&&e.scope.is_open&&(t.contains(document.getElementById(e.scope.id),o)||t("#"+e.scope.id).find('*[tabindex="0"]').focus())}),e.dom.on("keyup.Modaal",function(a){var n=a.keyCode,o=a.target;return a.shiftKey&&9==a.keyCode&&e.scope.is_open&&(t.contains(document.getElementById(e.scope.id),o)||t("#"+e.scope.id).find(".modaal-close").focus()),!e.options.is_locked&&27==n&&e.scope.is_open?!t(document.activeElement).is("input:not(:checkbox):not(:radio)")&&void e.modaal_close():"image"==e.options.type?(37==n&&e.scope.is_open&&!t("#"+e.scope.id+" .modaal-gallery-prev").hasClass("is_hidden")&&e.gallery_update("prev"),void(39==n&&e.scope.is_open&&!t("#"+e.scope.id+" .modaal-gallery-next").hasClass("is_hidden")&&e.gallery_update("next"))):void 0}),e.dom.on("click.Modaal",function(a){var n=t(a.target);if(!e.options.is_locked&&(e.options.overlay_close&&n.is(".modaal-inner-wrapper")||n.is(".modaal-close")||n.closest(".modaal-close").length))return void e.modaal_close();if(n.is(".modaal-confirm-btn"))return n.is(".modaal-ok")&&e.options.confirm_callback.call(e,e.lastFocus),n.is(".modaal-cancel")&&e.options.confirm_cancel_callback.call(e,e.lastFocus),void e.modaal_close();if(n.is(".modaal-gallery-control")){if(n.hasClass("is_hidden"))return;return n.is(".modaal-gallery-prev")&&e.gallery_update("prev"),void(n.is(".modaal-gallery-next")&&e.gallery_update("next"))}})},build_modal:function(t){var e=this,a="";"instagram"==e.options.type&&(a=" modaal-instagram");var n,o="video"==e.options.type?"modaal-video-wrap":"modaal-content";switch(e.options.animation){case"fade":n=" modaal-start_fade";break;case"slide-down":n=" modaal-start_slidedown";break;default:n=" modaal-start_none"}var i="";e.options.fullscreen&&(i=" modaal-fullscreen"),""===e.options.custom_class&&"undefined"==typeof e.options.custom_class||(e.options.custom_class=" "+e.options.custom_class);var r="";e.options.width&&e.options.height&&"number"==typeof e.options.width&&"number"==typeof e.options.height?r=' style="max-width:'+e.options.width+"px;height:"+e.options.height+'px;overflow:auto;"':e.options.width&&"number"==typeof e.options.width?r=' style="max-width:'+e.options.width+'px;"':e.options.height&&"number"==typeof e.options.height&&(r=' style="height:'+e.options.height+'px;overflow:auto;"'),("image"==e.options.type||"video"==e.options.type||"instagram"==e.options.type||e.options.fullscreen)&&(r="");var s='<div class="modaal-wrapper modaal-'+e.options.type+n+a+i+e.options.custom_class+'" id="'+e.scope.id+'"><div class="modaal-outer-wrapper"><div class="modaal-inner-wrapper">';"video"!=e.options.type&&(s+='<div class="modaal-container"'+r+">"),s+='<div class="'+o+' modaal-focus" aria-hidden="false" aria-label="'+e.options.accessible_title+' (Press escape to close)" role="dialog">',s+="inline"==e.options.type?'<div class="modaal-content-container"></div>':t,s+="</div>"+e.scope.close_btn,"video"!=e.options.type&&(s+="</div>"),s+="</div></div></div>",e.dom.append(s),"inline"==e.options.type&&t.appendTo("#"+e.scope.id+" .modaal-content-container"),e.modaal_overlay("show")},create_basic:function(){var e=this,a=e.$elem.is("[href]")?t(e.$elem.attr("href")):e.$elem,n="";a.length?(n=a.contents().clone(!0,!0),a.empty()):n="Content could not be loaded. Please check the source and try again.",e.build_modal(n)},create_instagram:function(){var e=this,a=e.options.instagram_id,n="",o="Instagram photo couldn't be loaded, please check the embed code and try again.";if(e.build_modal('<div class="modaal-content-container'+(""!=e.options.loading_class?" "+e.options.loading_class:"")+'">'+e.options.loading_content+"</div>"),""!=a&&null!==a&&void 0!==a){var i="https://api.instagram.com/oembed?url=http://instagr.am/p/"+a+"/";t.ajax({url:i,dataType:"jsonp",cache:!1,success:function(a){n=a.html;var o=t("#"+e.scope.id+" .modaal-content-container");o.length>0&&(o.removeClass(e.options.loading_class),o.html(n),window.instgrm.Embeds.process())},error:function(){n=o;var a=t("#"+e.scope.id+" .modaal-content-container");a.length>0&&(a.removeClass(e.options.loading_class).addClass(e.options.ajax_error_class),a.html(n))}})}else n=o;return!1},fetch_ajax:function(e){var a=this;null==a.options.accessible_title&&(a.options.accessible_title="Dialog Window"),null!==a.xhr&&(a.xhr.abort(),a.xhr=null),a.build_modal('<div class="modaal-content-container'+(""!=a.options.loading_class?" "+a.options.loading_class:"")+'">'+a.options.loading_content+"</div>"),a.xhr=t.ajax(e,{success:function(e){var n=t("#"+a.scope.id).find(".modaal-content-container");n.length>0&&(n.removeClass(a.options.loading_class),n.html(e),a.options.ajax_success.call(a,n))},error:function(e){if("abort"!=e.statusText){var n=t("#"+a.scope.id+" .modaal-content-container");n.length>0&&(n.removeClass(a.options.loading_class).addClass(a.options.ajax_error_class),n.html("Content could not be loaded. Please check the source and try again."))}}})},create_confirm:function(){var t,e=this;t='<div class="modaal-content-container"><h1 id="modaal-title">'+e.options.confirm_title+'</h1><div class="modaal-confirm-content">'+e.options.confirm_content+'</div><div class="modaal-confirm-wrap"><button type="button" class="modaal-confirm-btn modaal-ok" aria-label="Confirm">'+e.options.confirm_button_text+'</button><button type="button" class="modaal-confirm-btn modaal-cancel" aria-label="Cancel">'+e.options.confirm_cancel_button_text+"</button></div></div></div>",e.build_modal(t)},create_image:function(){var e,a,n=this,o="",i='<button type="button" class="modaal-gallery-control modaal-gallery-prev" id="modaal-gallery-prev" aria-label="Previous image (use left arrow to change)"><span>Previous Image</span></button>',r='<button type="button" class="modaal-gallery-control modaal-gallery-next" id="modaal-gallery-next" aria-label="Next image (use right arrow to change)"><span>Next Image</span></button>';if(n.$elem.is("[rel]")){var s=n.$elem.attr("rel"),l=t('[rel="'+s+'"]');l.removeAttr("data-gallery-active","is_active"),n.$elem.attr("data-gallery-active","is_active"),a=l.length-1;var c=[];o='<div class="modaal-gallery-item-wrap">',l.each(function(t,e){var a="",n="",o="",i=!1,r=e.getAttribute("data-modaal-desc"),s=e.getAttribute("data-gallery-active");""!==e.href||void 0!==e.href?a=e.href:""===e.src&&void 0===e.src||(a=e.src),""!=r&&null!==r&&void 0!==r?(n=r,o='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(t+1)+" - </span>"+r+"</div>"):o='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(t+1)+"</span></div>",s&&(i=!0);var l={url:a,alt:n,rawdesc:r,desc:o,active:i};c.push(l)});for(var d=0;d<c.length;d++){var u="",p=c[d].rawdesc?"Image: "+c[d].rawdesc:"Image "+d+" no description";c[d].active&&(u=" "+n.private_options.active_class),o+='<div class="modaal-gallery-item gallery-item-'+d+u+'" aria-label="'+p+'"><img src="'+c[d].url+'" alt=" " style="width:100%">'+c[d].desc+"</div>"}o+="</div>"+i+r}else{var h=n.$elem.attr("href"),m="",f="",p="";n.$elem.attr("data-modaal-desc")?(p=n.$elem.attr("data-modaal-desc"),m=n.$elem.attr("data-modaal-desc"),f='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image - </span>'+m+"</div>"):p="Image with no description",o='<div class="modaal-gallery-item is_active" aria-label="'+p+'"><img src="'+h+'" alt=" " style="width:100%">'+f+"</div>"}e=o,n.build_modal(e),t(".modaal-gallery-item.is_active").is(".gallery-item-0")&&t(".modaal-gallery-prev").hide(),t(".modaal-gallery-item.is_active").is(".gallery-item-"+a)&&t(".modaal-gallery-next").hide()},gallery_update:function(e){var a=this,n=t("#"+a.scope.id),o=n.find(".modaal-gallery-item"),i=o.length-1;if(0==i)return!1;var r=n.find(".modaal-gallery-prev"),s=n.find(".modaal-gallery-next"),l=250,c=0,d=0,u=n.find(".modaal-gallery-item."+a.private_options.active_class),p="next"==e?u.next(".modaal-gallery-item"):u.prev(".modaal-gallery-item");return a.options.before_image_change.call(a,u,p),("prev"!=e||!n.find(".gallery-item-0").hasClass("is_active"))&&(("next"!=e||!n.find(".gallery-item-"+i).hasClass("is_active"))&&void u.stop().animate({opacity:0},l,function(){p.addClass("is_next").css({position:"absolute",display:"block",opacity:0});var e=t(document).width(),o=e>1140?280:50;c=n.find(".modaal-gallery-item.is_next").width(),d=n.find(".modaal-gallery-item.is_next").height();var h=n.find(".modaal-gallery-item.is_next img").prop("naturalWidth"),m=n.find(".modaal-gallery-item.is_next img").prop("naturalHeight");h>e-o?(c=e-o,n.find(".modaal-gallery-item.is_next").css({width:c}),n.find(".modaal-gallery-item.is_next img").css({width:c}),d=n.find(".modaal-gallery-item.is_next").find("img").height()):(c=h,d=m),n.find(".modaal-gallery-item-wrap").stop().animate({width:c,height:d},l,function(){u.removeClass(a.private_options.active_class+" "+a.options.gallery_active_class).removeAttr("style"),u.find("img").removeAttr("style"),p.addClass(a.private_options.active_class+" "+a.options.gallery_active_class).removeClass("is_next").css("position",""),p.stop().animate({opacity:1},l,function(){t(this).removeAttr("style").css({width:"100%"}),t(this).find("img").css("width","100%"),n.find(".modaal-gallery-item-wrap").removeAttr("style"),a.options.after_image_change.call(a,p)}),n.find(".modaal-gallery-item").removeAttr("tabindex"),n.find(".modaal-gallery-item."+a.private_options.active_class).attr("tabindex","0").focus(),n.find(".modaal-gallery-item."+a.private_options.active_class).is(".gallery-item-0")?r.stop().animate({opacity:0},150,function(){t(this).hide()}):r.stop().css({display:"block",opacity:r.css("opacity")}).animate({opacity:1},150),n.find(".modaal-gallery-item."+a.private_options.active_class).is(".gallery-item-"+i)?s.stop().animate({opacity:0},150,function(){t(this).hide()}):s.stop().css({display:"block",opacity:r.css("opacity")}).animate({opacity:1},150)})}))},create_video:function(t){var e,a=this;e='<iframe src="'+t+'" class="modaal-video-frame" frameborder="0" allowfullscreen></iframe>',a.build_modal('<div class="modaal-video-container">'+e+"</div>")},create_iframe:function(t){var e,a=this;e=null!==a.options.width||void 0!==a.options.width||null!==a.options.height||void 0!==a.options.height?'<iframe src="'+t+'" class="modaal-iframe-elem" frameborder="0" allowfullscreen></iframe>':'<div class="modaal-content-container">Please specify a width and height for your iframe</div>',a.build_modal(e)},modaal_open:function(){var e=this,a=t("#"+e.scope.id),n=e.options.animation;"none"===n&&(a.removeClass("modaal-start_none"),e.options.after_open.call(e,a)),"fade"===n&&a.removeClass("modaal-start_fade"),"slide-down"===n&&a.removeClass("modaal-start_slide_down");var o=a;t(".modaal-wrapper *[tabindex=0]").removeAttr("tabindex"),o="image"==e.options.type?t("#"+e.scope.id).find(".modaal-gallery-item."+e.private_options.active_class):a.find(".modaal-iframe-elem").length?a.find(".modaal-iframe-elem"):a.find(".modaal-video-wrap").length?a.find(".modaal-video-wrap"):a.find(".modaal-focus"),o.attr("tabindex","0").focus(),"none"!==n&&setTimeout(function(){e.options.after_open.call(e,a)},e.options.after_callback_delay)},modaal_close:function(){var e=this,a=t("#"+e.scope.id);e.options.before_close.call(e,a),null!==e.xhr&&(e.xhr.abort(),e.xhr=null),"none"===e.options.animation&&a.addClass("modaal-start_none"),"fade"===e.options.animation&&a.addClass("modaal-start_fade"),"slide-down"===e.options.animation&&a.addClass("modaal-start_slide_down"),setTimeout(function(){"inline"==e.options.type&&t("#"+e.scope.id+" .modaal-content-container").contents().clone(!0,!0).appendTo(e.$elem.attr("href")),a.remove(),e.options.after_close.call(e),e.scope.is_open=!1},e.options.after_callback_delay),e.modaal_overlay("hide"),null!=e.lastFocus&&e.lastFocus.focus()},modaal_overlay:function(e){var a=this;"show"==e?(a.scope.is_open=!0,a.options.background_scroll||a.dom.addClass("modaal-noscroll"),a.dom.append('<div class="modaal-overlay" id="'+a.scope.id+'_overlay"></div>'),t("#"+a.scope.id+"_overlay").css("background",a.options.background).stop().animate({opacity:a.options.overlay_opacity},a.options.animation_speed,function(){a.modaal_open()})):"hide"==e&&(a.dom.removeClass("modaal-noscroll"),t("#"+a.scope.id+"_overlay").stop().animate({opacity:0},a.options.animation_speed,function(){t(this).remove()}))}};t.fn.modaal=function(e){return this.each(function(){var n=t(this).data("modaal");if(n){if("string"==typeof e)switch(e){case"close":n.modaal_close()}}else{var o=Object.create(a);o.init(e,this),t.data(this,"modaal",o)}})},t.fn.modaal.options={type:"inline",animation:"fade",animation_speed:300,after_callback_delay:350,is_locked:!1,hide_close:!1,background:"#000",overlay_opacity:"0.8",overlay_close:!0,accessible_title:"Dialog Window",start_open:!1,fullscreen:!1,custom_class:"",background_scroll:!1,should_open:!0,close_text:"Close",close_aria_label:"Close (Press escape to close)",width:null,height:null,before_open:function(){},after_open:function(){},before_close:function(){},after_close:function(){},source:function(t,e){return e},confirm_button_text:"Confirm",confirm_cancel_button_text:"Cancel",confirm_title:"Confirm Title",confirm_content:"<p>This is the default confirm dialog content. Replace me through the options</p>",confirm_callback:function(){},confirm_cancel_callback:function(){},gallery_active_class:"gallery_active_item",before_image_change:function(t,e){},after_image_change:function(t){},loading_content:e,loading_class:"is_loading",ajax_error_class:"modaal-error",ajax_success:function(){},instagram_id:null},t(function(){var e=t(".modaal");e.length&&e.each(function(){var e=t(this),a={},n=!1;e.attr("data-modaal-type")&&(n=!0,a.type=e.attr("data-modaal-type")),e.attr("data-modaal-animation")&&(n=!0,a.animation=e.attr("data-modaal-animation")),e.attr("data-modaal-animation-speed")&&(n=!0,a.animation_speed=e.attr("data-modaal-animation-speed")),e.attr("data-modaal-after-callback-delay")&&(n=!0,a.after_callback_delay=e.attr("data-modaal-after-callback-delay")),e.attr("data-modaal-is-locked")&&(n=!0,a.is_locked="true"===e.attr("data-modaal-is-locked")),e.attr("data-modaal-hide-close")&&(n=!0,a.hide_close="true"===e.attr("data-modaal-hide-close")),e.attr("data-modaal-background")&&(n=!0,a.background=e.attr("data-modaal-background")),e.attr("data-modaal-overlay-opacity")&&(n=!0,a.overlay_opacity=e.attr("data-modaal-overlay-opacity")),e.attr("data-modaal-overlay-close")&&(n=!0,a.overlay_close="false"!==e.attr("data-modaal-overlay-close")),e.attr("data-modaal-accessible-title")&&(n=!0,a.accessible_title=e.attr("data-modaal-accessible-title")),e.attr("data-modaal-start-open")&&(n=!0,a.start_open="true"===e.attr("data-modaal-start-open")),e.attr("data-modaal-fullscreen")&&(n=!0,a.fullscreen="true"===e.attr("data-modaal-fullscreen")),e.attr("data-modaal-custom-class")&&(n=!0,a.custom_class=e.attr("data-modaal-custom-class")),e.attr("data-modaal-close-text")&&(n=!0,a.close_text=e.attr("data-modaal-close-text")),e.attr("data-modaal-close-aria-label")&&(n=!0,a.close_aria_label=e.attr("data-modaal-close-aria-label")),e.attr("data-modaal-background-scroll")&&(n=!0,a.background_scroll="true"===e.attr("data-modaal-background-scroll")),e.attr("data-modaal-width")&&(n=!0,a.width=parseInt(e.attr("data-modaal-width"))),e.attr("data-modaal-height")&&(n=!0,a.height=parseInt(e.attr("data-modaal-height"))),e.attr("data-modaal-confirm-button-text")&&(n=!0,a.confirm_button_text=e.attr("data-modaal-confirm-button-text")),e.attr("data-modaal-confirm-cancel-button-text")&&(n=!0,a.confirm_cancel_button_text=e.attr("data-modaal-confirm-cancel-button-text")),e.attr("data-modaal-confirm-title")&&(n=!0,a.confirm_title=e.attr("data-modaal-confirm-title")),e.attr("data-modaal-confirm-content")&&(n=!0,a.confirm_content=e.attr("data-modaal-confirm-content")),e.attr("data-modaal-gallery-active-class")&&(n=!0,a.gallery_active_class=e.attr("data-modaal-gallery-active-class")),e.attr("data-modaal-loading-content")&&(n=!0,a.loading_content=e.attr("data-modaal-loading-content")),e.attr("data-modaal-loading-class")&&(n=!0,a.loading_class=e.attr("data-modaal-loading-class")),e.attr("data-modaal-ajax-error-class")&&(n=!0,a.ajax_error_class=e.attr("data-modaal-ajax-error-class")),e.attr("data-modaal-instagram-id")&&(n=!0,a.instagram_id=e.attr("data-modaal-instagram-id")),n&&e.modaal(a)})})}(t,window,document)}).call(e,a(1))},10:function(t,e,a){var n,o,i;(function(r){!function(r,s,l){o=[a(1)],n=r,i="function"==typeof n?n.apply(e,o):n,!(void 0!==i&&(t.exports=i))}(function(t){"use strict";var e=function(e,a,n){var o={invalid:[],getCaret:function(){try{var t,a=0,n=e.get(0),i=document.selection,r=n.selectionStart;return i&&navigator.appVersion.indexOf("MSIE 10")===-1?(t=i.createRange(),t.moveStart("character",-o.val().length),a=t.text.length):(r||"0"===r)&&(a=r),a}catch(t){}},setCaret:function(t){try{if(e.is(":focus")){var a,n=e.get(0);n.setSelectionRange?n.setSelectionRange(t,t):(a=n.createTextRange(),a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select())}}catch(t){}},events:function(){e.on("keydown.mask",function(t){e.data("mask-keycode",t.keyCode||t.which),e.data("mask-previus-value",e.val()),e.data("mask-previus-caret-pos",o.getCaret()),o.maskDigitPosMapOld=o.maskDigitPosMap}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",o.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){e.keydown().keyup()},100)}).on("change.mask",function(){e.data("changed",!0)}).on("blur.mask",function(){s===o.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)}).on("blur.mask",function(){s=o.val()}).on("focus.mask",function(e){n.selectOnFocus===!0&&t(e.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!i.test(o.val())&&o.val("")})},getRegexMask:function(){for(var t,e,n,o,i,s,l=[],c=0;c<a.length;c++)t=r.translation[a.charAt(c)],t?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,o=t.recursive,o?(l.push(a.charAt(c)),i={digit:a.charAt(c),pattern:e}):l.push(n||o?e+"?":e)):l.push(a.charAt(c).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return s=l.join(""),i&&(s=s.replace(new RegExp("("+i.digit+"(.*"+i.digit+")?)"),"($1)?").replace(new RegExp(i.digit,"g"),i.pattern)),new RegExp(s)},destroyEvents:function(){e.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var a,n=e.is("input"),o=n?"val":"text";return arguments.length>0?(e[o]()!==t&&e[o](t),a=e):a=e[o](),a},calculateCaretPosition:function(t){var a=o.getMasked(),n=o.getCaret();if(t!==a){var i=e.data("mask-previus-caret-pos")||0,r=a.length,s=t.length,l=0,c=0,d=0,u=0,p=0;for(p=n;p<r&&o.maskDigitPosMap[p];p++)c++;for(p=n-1;p>=0&&o.maskDigitPosMap[p];p--)l++;for(p=n-1;p>=0;p--)o.maskDigitPosMap[p]&&d++;for(p=i-1;p>=0;p--)o.maskDigitPosMapOld[p]&&u++;if(n>s)n=10*r;else if(i>=n&&i!==s){if(!o.maskDigitPosMapOld[n]){var h=n;n-=u-d,n-=l,o.maskDigitPosMap[n]&&(n=h)}}else n>i&&(n+=d-u,n+=c)}return n},behaviour:function(a){a=a||window.event,o.invalid=[];var n=e.data("mask-keycode");if(t.inArray(n,r.byPassKeys)===-1){var i=o.getMasked(),s=o.getCaret(),l=e.data("mask-previus-value")||"";return setTimeout(function(){o.setCaret(o.calculateCaretPosition(l))},t.jMaskGlobals.keyStrokeCompensation),o.val(i),o.setCaret(s),o.callbacks(a)}},getMasked:function(t,e){var i,s,l=[],c=void 0===e?o.val():e+"",d=0,u=a.length,p=0,h=c.length,m=1,f="push",v=-1,g=0,_=[];n.reverse?(f="unshift",m=-1,i=0,d=u-1,p=h-1,s=function(){return d>-1&&p>-1}):(i=u-1,s=function(){return d<u&&p<h});for(var y;s();){var b=a.charAt(d),k=c.charAt(p),w=r.translation[b];w?(k.match(w.pattern)?(l[f](k),w.recursive&&(v===-1?v=d:d===i&&d!==v&&(d=v-m),i===v&&(d-=m)),d+=m):k===y?(g--,y=void 0):w.optional?(d+=m,p-=m):w.fallback?(l[f](w.fallback),d+=m,p-=m):o.invalid.push({p:p,v:k,e:w.pattern}),p+=m):(t||l[f](b),k===b?(_.push(p),p+=m):(y=b,_.push(p+g),g++),d+=m)}var x=a.charAt(i);u!==h+1||r.translation[x]||l.push(x);var I=l.join("");return o.mapMaskdigitPositions(I,_,h),I},mapMaskdigitPositions:function(t,e,a){var i=n.reverse?t.length-a:0;o.maskDigitPosMap={};for(var r=0;r<e.length;r++)o.maskDigitPosMap[e[r]+i]=1},callbacks:function(t){var i=o.val(),r=i!==s,l=[i,t,e,n],c=function(t,e,a){"function"==typeof n[t]&&e&&n[t].apply(this,a)};c("onChange",r===!0,l),c("onKeyPress",r===!0,l),c("onComplete",i.length===a.length,l),c("onInvalid",o.invalid.length>0,[i,t,e,o.invalid,n])}};e=t(e);var i,r=this,s=o.val();a="function"==typeof a?a(o.val(),void 0,e,n):a,r.mask=a,r.options=n,r.remove=function(){var t=o.getCaret();return r.options.placeholder&&e.removeAttr("placeholder"),e.data("mask-maxlength")&&e.removeAttr("maxlength"),o.destroyEvents(),o.val(r.getCleanVal()),o.setCaret(t),e},r.getCleanVal=function(){return o.getMasked(!0)},r.getMaskedVal=function(t){return o.getMasked(!1,t)},r.init=function(s){if(s=s||!1,n=n||{},r.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,r.byPassKeys=t.jMaskGlobals.byPassKeys,r.translation=t.extend({},t.jMaskGlobals.translation,n.translation),r=t.extend(!0,{},r,n),i=o.getRegexMask(),s)o.events(),o.val(o.getMasked());else{n.placeholder&&e.attr("placeholder",n.placeholder),e.data("mask")&&e.attr("autocomplete","off");for(var l=0,c=!0;l<a.length;l++){var d=r.translation[a.charAt(l)];if(d&&d.recursive){c=!1;break}}c&&e.attr("maxlength",a.length).data("mask-maxlength",!0),o.destroyEvents(),o.events();var u=o.getCaret();o.val(o.getMasked()),o.setCaret(u)}},r.init(!e.is("input"))};t.maskWatchers={};var a=function(){var a=t(this),o={},i="data-mask-",r=a.attr("data-mask");if(a.attr(i+"reverse")&&(o.reverse=!0),a.attr(i+"clearifnotmatch")&&(o.clearIfNotMatch=!0),"true"===a.attr(i+"selectonfocus")&&(o.selectOnFocus=!0),n(a,r,o))return a.data("mask",new e(this,r,o))},n=function(e,a,n){n=n||{};var o=t(e).data("mask"),i=JSON.stringify,r=t(e).val()||t(e).text();try{return"function"==typeof a&&(a=a(r)),"object"!=typeof o||i(o.options)!==i(n)||o.mask!==a}catch(t){}},o=function(t){var e,a=document.createElement("div");return t="on"+t,e=t in a,e||(a.setAttribute(t,"return;"),e="function"==typeof a[t]),a=null,e};t.fn.mask=function(a,o){o=o||{};var i=this.selector,r=t.jMaskGlobals,s=r.watchInterval,l=o.watchInputs||r.watchInputs,c=function(){if(n(this,a,o))return t(this).data("mask",new e(this,a,o))};return t(this).each(c),i&&""!==i&&l&&(clearInterval(t.maskWatchers[i]),t.maskWatchers[i]=setInterval(function(){t(document).find(i).each(c)},s)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(e){e=e||t.jMaskGlobals.maskElements;var n=e instanceof t?e:t(e);n.filter(t.jMaskGlobals.dataMaskAttr).each(a)};var i={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&o("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{},i=t.jMaskGlobals=t.extend(!0,{},i,t.jMaskGlobals),i.dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},i.watchInterval)},r,window.Zepto)}).call(e,a(1))},152:function(t,e){!function(){"use strict";function t(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||l(),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,a=e.width*e.height,n=this.intersectionRect,o=n.width*n.height;a?this.intersectionRatio=Number((o/a).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function e(t,e){var a=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(a.root&&1!=a.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=n(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(a.rootMargin),this.thresholds=this._initThresholds(a.threshold),this.root=a.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function a(){return window.performance&&performance.now&&performance.now()}function n(t,e){var a=null;return function(){a||(a=setTimeout(function(){t(),a=null},e))}}function o(t,e,a,n){"function"==typeof t.addEventListener?t.addEventListener(e,a,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,a)}function i(t,e,a,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,a,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,a)}function r(t,e){var a=Math.max(t.top,e.top),n=Math.min(t.bottom,e.bottom),o=Math.max(t.left,e.left),i=Math.min(t.right,e.right),r=i-o,s=n-a;return r>=0&&s>=0&&{top:a,bottom:n,left:o,right:i,width:r,height:s}}function s(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):l()}function l(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var a=e;a;){if(a==t)return!0;a=d(a)}return!1}function d(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}if("object"==typeof window){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return void("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}));var u=window.document,p=[];e.prototype.THROTTLE_TIMEOUT=100,e.prototype.POLL_INTERVAL=null,e.prototype.USE_MUTATION_OBSERVER=!0,e.prototype.observe=function(t){var e=this._observationTargets.some(function(e){return e.element==t});if(!e){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},e.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},e.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},e.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},e.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,a){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==a[e-1]})},e.prototype._parseRootMargin=function(t){var e=t||"0px",a=e.split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return a[1]=a[1]||a[0],a[2]=a[2]||a[0],a[3]=a[3]||a[1],a},e.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(window,"resize",this._checkForIntersections,!0),o(u,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(u,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},e.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(window,"resize",this._checkForIntersections,!0),i(u,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},e.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():l();this._observationTargets.forEach(function(o){var i=o.element,r=s(i),l=this._rootContainsTarget(i),c=o.entry,d=e&&l&&this._computeTargetAndRootIntersection(i,n),u=o.entry=new t({time:a(),target:i,boundingClientRect:r,rootBounds:n,intersectionRect:d});c?e&&l?this._hasCrossedThreshold(c,u)&&this._queuedEntries.push(u):c&&c.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},e.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=window.getComputedStyle(t).display){for(var a=s(t),n=a,o=d(t),i=!1;!i;){var l=null,c=1==o.nodeType?window.getComputedStyle(o):{};if("none"==c.display)return;if(o==this.root||o==u?(i=!0,l=e):o!=u.body&&o!=u.documentElement&&"visible"!=c.overflow&&(l=s(o)),l&&(n=r(l,n),!n))break;o=d(o)}return n}},e.prototype._getRootRect=function(){var t;if(this.root)t=s(this.root);else{var e=u.documentElement,a=u.body;t={top:0,left:0,right:e.clientWidth||a.clientWidth,width:e.clientWidth||a.clientWidth,bottom:e.clientHeight||a.clientHeight,height:e.clientHeight||a.clientHeight}}return this._expandRectByRootMargin(t)},e.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,a){return"px"==e.unit?e.value:e.value*(a%2?t.width:t.height)/100}),a={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return a.width=a.right-a.left,a.height=a.bottom-a.top,a},e.prototype._hasCrossedThreshold=function(t,e){var a=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(a!==n)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==a||i==n||i<a!=i<n)return!0}},e.prototype._rootIsInDom=function(){return!this.root||c(u,this.root)},e.prototype._rootContainsTarget=function(t){
return c(this.root||u,t)},e.prototype._registerInstance=function(){p.indexOf(this)<0&&p.push(this)},e.prototype._unregisterInstance=function(){var t=p.indexOf(this);t!=-1&&p.splice(t,1)},window.IntersectionObserver=e,window.IntersectionObserverEntry=t}}()}});
//# sourceMappingURL=image-deferrer.min.js.map